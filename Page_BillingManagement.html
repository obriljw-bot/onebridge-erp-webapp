<style>
.billing-wrap{padding:20px;}

/* í˜ì´ì§€ í—¤ë” */
.billing-header{
  margin-bottom:20px;
}
.billing-header h1{
  font-size:24px;
  font-weight:700;
  color:#1e293b;
  margin:0 0 8px 0;
}
.billing-header p{
  color:#64748b;
  margin:0;
  font-size:14px;
}

/* ê²€ìƒ‰ ë°” */
.billing-search{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  background:white;
  padding:16px;
  border-radius:8px;
  box-shadow:0 1px 4px rgba(0,0,0,0.1);
  margin-bottom:16px;
  align-items:flex-end;
}

.billing-search-field{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.billing-search-field label{
  font-size:13px;
  font-weight:500;
  color:#475569;
}
.billing-search-field select,
.billing-search-field input{
  padding:8px 12px;
  border:1px solid #d1d5db;
  border-radius:6px;
  font-size:14px;
  min-width:150px;
}

.billing-btn{
  padding:8px 16px;
  border:none;
  border-radius:6px;
  cursor:pointer;
  font-size:14px;
  font-weight:500;
  transition:all 0.2s;
}
.billing-btn.primary{background:#2563eb;color:white;}
.billing-btn.primary:hover{background:#1d4ed8;}
.billing-btn.secondary{background:#e5e7eb;color:#1e293b;}
.billing-btn.secondary:hover{background:#d1d5db;}
.billing-btn.small{padding:4px 8px;font-size:12px;}

/* ìš”ì•½ ì¹´ë“œ */
.billing-summary{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
  gap:12px;
  margin-bottom:16px;
}

.billing-summary-card{
  background:white;
  padding:16px;
  border-radius:8px;
  box-shadow:0 1px 4px rgba(0,0,0,0.1);
}
.billing-summary-card-label{
  font-size:12px;
  color:#64748b;
  margin-bottom:4px;
}
.billing-summary-card-value{
  font-size:20px;
  font-weight:700;
  color:#1e293b;
}
.billing-summary-card-value.primary{color:#2563eb;}
.billing-summary-card-value.success{color:#10b981;}
.billing-summary-card-value.warning{color:#f59e0b;}

/* í…Œì´ë¸” */
.billing-table-wrap{
  overflow:auto;
  max-height:600px;
  background:white;
  border-radius:8px;
  box-shadow:0 1px 4px rgba(0,0,0,0.1);
  margin-bottom:16px;
}
.billing-table{
  width:100%;
  border-collapse:collapse;
  font-size:13px;
}
.billing-table th,
.billing-table td{
  padding:10px;
  border-bottom:1px solid #e2e8f0;
  text-align:left;
}
.billing-table th{
  background:#f1f5f9;
  font-weight:600;
  position:sticky;
  top:0;
  z-index:10;
}
.billing-table td.num{text-align:right;}
.billing-table td.center{text-align:center;}

.billing-empty{
  text-align:center;
  padding:60px 20px;
  color:#64748b;
}
.billing-empty-icon{
  font-size:48px;
  margin-bottom:12px;
}
.billing-empty-text{
  font-size:14px;
}

/* ìƒíƒœ ë±ƒì§€ */
.billing-status-badge{
  display:inline-block;
  padding:4px 8px;
  border-radius:4px;
  font-size:11px;
  font-weight:600;
}
.billing-status-badge.DRAFT{
  background:#e5e7eb;
  color:#6b7280;
}
.billing-status-badge.ISSUED{
  background:#dbeafe;
  color:#2563eb;
}
.billing-status-badge.PAID_PARTIAL{
  background:#fef3c7;
  color:#f59e0b;
}
.billing-status-badge.PAID{
  background:#d1fae5;
  color:#10b981;
}

/* ëª¨ë‹¬ */
.billing-modal{
  display:none;
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.5);
  z-index:9999;
  justify-content:center;
  align-items:center;
}
.billing-modal.active{display:flex;}

.billing-modal-content{
  background:white;
  border-radius:12px;
  width:90%;
  max-width:800px;
  max-height:90vh;
  overflow:auto;
  box-shadow:0 4px 16px rgba(0,0,0,0.2);
}

.billing-modal-header{
  padding:20px;
  border-bottom:1px solid #e2e8f0;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.billing-modal-header h2{
  margin:0;
  font-size:18px;
  font-weight:700;
  color:#1e293b;
}
.billing-modal-close{
  background:transparent;
  border:none;
  font-size:24px;
  cursor:pointer;
  color:#64748b;
}

.billing-modal-body{
  padding:20px;
}

.billing-detail-section{
  margin-bottom:24px;
}
.billing-detail-section h3{
  font-size:14px;
  font-weight:600;
  color:#475569;
  margin:0 0 12px 0;
}

.billing-detail-grid{
  display:grid;
  grid-template-columns:repeat(2, 1fr);
  gap:12px;
}
.billing-detail-item{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.billing-detail-item-label{
  font-size:12px;
  color:#64748b;
}
.billing-detail-item-value{
  font-size:14px;
  font-weight:500;
  color:#1e293b;
}

.billing-modal-footer{
  padding:16px 20px;
  border-top:1px solid #e2e8f0;
  display:flex;
  gap:8px;
  justify-content:flex-end;
}
</style>

<div class="billing-wrap">
  <!-- í˜ì´ì§€ í—¤ë” -->
  <div class="billing-header">
    <h1>ğŸ“‹ ì²­êµ¬ì„œ ê´€ë¦¬</h1>
    <p>ë°œí–‰ëœ ì²­êµ¬ì„œë¥¼ ì¡°íšŒí•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤</p>
  </div>

  <!-- ê²€ìƒ‰ ë°” -->
  <div class="billing-search">
    <div class="billing-search-field">
      <label>ê±°ë˜ì²˜</label>
      <input type="text" id="billing-mgmt-company" placeholder="ê±°ë˜ì²˜ëª… ì…ë ¥">
    </div>

    <div class="billing-search-field">
      <label>ìƒíƒœ</label>
      <select id="billing-mgmt-status">
        <option value="">ì „ì²´</option>
        <option value="DRAFT">ì„ì‹œì €ì¥</option>
        <option value="ISSUED">ë°œí–‰ì™„ë£Œ</option>
        <option value="PAID_PARTIAL">ì¼ë¶€ì…ê¸ˆ</option>
        <option value="PAID">ì…ê¸ˆì™„ë£Œ</option>
      </select>
    </div>

    <div class="billing-search-field">
      <label>ì‹œì‘ì¼</label>
      <input type="date" id="billing-mgmt-start-date">
    </div>

    <div class="billing-search-field">
      <label>ì¢…ë£Œì¼</label>
      <input type="date" id="billing-mgmt-end-date">
    </div>

    <button class="billing-btn primary" id="billing-mgmt-search-btn">
      ğŸ” ì¡°íšŒ
    </button>

    <button class="billing-btn secondary" id="billing-mgmt-reset-btn">
      ì´ˆê¸°í™”
    </button>

    <div style="margin-left:auto;display:flex;gap:8px;">
      <input type="file" id="billing-csv-upload" accept=".csv" style="display:none;">
      <button class="billing-btn primary" id="billing-csv-upload-btn">
        ğŸ“¥ CSV ì—…ë¡œë“œ
      </button>
    </div>
  </div>

  <!-- ìš”ì•½ ì¹´ë“œ -->
  <div class="billing-summary" id="billing-mgmt-summary" style="display:none;">
    <div class="billing-summary-card">
      <div class="billing-summary-card-label">ì´ ì²­êµ¬ê±´ìˆ˜</div>
      <div class="billing-summary-card-value" id="billing-mgmt-total-count">0</div>
    </div>

    <div class="billing-summary-card">
      <div class="billing-summary-card-label">ì´ ì²­êµ¬ì•¡</div>
      <div class="billing-summary-card-value primary" id="billing-mgmt-total-amount">â‚©0</div>
    </div>

    <div class="billing-summary-card">
      <div class="billing-summary-card-label">ë°œí–‰ê¸ˆì•¡</div>
      <div class="billing-summary-card-value success" id="billing-mgmt-issued-amount">â‚©0</div>
    </div>

    <div class="billing-summary-card">
      <div class="billing-summary-card-label">ë¯¸ìˆ˜ê¸ˆ</div>
      <div class="billing-summary-card-value warning" id="billing-mgmt-unpaid-amount">â‚©0</div>
    </div>
  </div>

  <!-- ì²­êµ¬ì„œ ëª©ë¡ í…Œì´ë¸” -->
  <div class="billing-table-wrap">
    <table class="billing-table">
      <thead>
        <tr>
          <th>ì²­êµ¬ID</th>
          <th>ìœ í˜•</th>
          <th>ê±°ë˜ì²˜</th>
          <th>ì²­êµ¬ì¼</th>
          <th class="num">ì²­êµ¬ê¸ˆì•¡</th>
          <th class="center">ìƒíƒœ</th>
          <th>ë¹„ê³ </th>
          <th class="center">ì•¡ì…˜</th>
        </tr>
      </thead>
      <tbody id="billing-mgmt-tbody">
        <tr>
          <td colspan="8" class="billing-empty">
            <div class="billing-empty-icon">ğŸ“‹</div>
            <div class="billing-empty-text">ì¡°íšŒ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì²­êµ¬ì„œ ëª©ë¡ì„ í™•ì¸í•˜ì„¸ìš”</div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- ì²­êµ¬ì„œ ìƒì„¸ë³´ê¸° ëª¨ë‹¬ -->
<div class="billing-modal" id="billing-detail-modal">
  <div class="billing-modal-content">
    <div class="billing-modal-header">
      <h2>ğŸ“„ ì²­êµ¬ì„œ ìƒì„¸</h2>
      <button class="billing-modal-close" id="billing-modal-close-btn">Ã—</button>
    </div>

    <div class="billing-modal-body" id="billing-detail-body">
      <!-- ê¸°ë³¸ ì •ë³´ -->
      <div class="billing-detail-section">
        <h3>ğŸ“‹ ê¸°ë³¸ ì •ë³´</h3>
        <div class="billing-detail-grid">
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ì²­êµ¬ID</div>
            <div class="billing-detail-item-value" id="detail-billing-id">-</div>
          </div>
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ì²­êµ¬ìœ í˜•</div>
            <div class="billing-detail-item-value" id="detail-type">-</div>
          </div>
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ê±°ë˜ì²˜</div>
            <div class="billing-detail-item-value" id="detail-company">-</div>
          </div>
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ë§ˆê°ID</div>
            <div class="billing-detail-item-value" id="detail-settlement-id">-</div>
          </div>
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ì²­êµ¬ì¼</div>
            <div class="billing-detail-item-value" id="detail-billing-date">-</div>
          </div>
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ì²­êµ¬ê¸ˆì•¡</div>
            <div class="billing-detail-item-value" id="detail-amount">-</div>
          </div>
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ì…ê¸ˆì•¡</div>
            <div class="billing-detail-item-value" id="detail-paid-amount">-</div>
          </div>
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ì”ì•¡</div>
            <div class="billing-detail-item-value" id="detail-remaining-amount">-</div>
          </div>
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ìƒíƒœ</div>
            <div class="billing-detail-item-value" id="detail-status">-</div>
          </div>
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ë¹„ê³ </div>
            <div class="billing-detail-item-value" id="detail-notes">-</div>
          </div>
        </div>
      </div>

      <!-- ë°œí–‰ ì •ë³´ -->
      <div class="billing-detail-section">
        <h3>ğŸ—“ï¸ ë°œí–‰ ì •ë³´</h3>
        <div class="billing-detail-grid">
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ìƒì„±ì¼ì‹œ</div>
            <div class="billing-detail-item-value" id="detail-created-at">-</div>
          </div>
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ìƒì„±ì</div>
            <div class="billing-detail-item-value" id="detail-created-by">-</div>
          </div>
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ë°œí–‰ì¼ì‹œ</div>
            <div class="billing-detail-item-value" id="detail-issued-at">-</div>
          </div>
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ë°œí–‰ì</div>
            <div class="billing-detail-item-value" id="detail-issued-by">-</div>
          </div>
          <div class="billing-detail-item">
            <div class="billing-detail-item-label">ê²°ì œì¼ì‹œ</div>
            <div class="billing-detail-item-value" id="detail-paid-at">-</div>
          </div>
        </div>
      </div>
    </div>

    <div class="billing-modal-footer">
      <button class="billing-btn secondary" id="billing-detail-reprint-btn">
        ğŸ“„ ì²­êµ¬ì„œ ì¬ì¶œë ¥
      </button>
      <button class="billing-btn primary" id="billing-detail-change-status-btn">
        âœï¸ ìƒíƒœ ë³€ê²½
      </button>
    </div>
  </div>
</div>
